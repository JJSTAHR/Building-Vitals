
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for Building Vitals/Building-Vitals/build/js/pages-B2aUeQ7z.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../index.html">All files</a> / <a href="index.html">Building Vitals/Building-Vitals/build/js</a> pages-B2aUeQ7z.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/2</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/2</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/app-core-rH6lZf1X.js","js/vendor-CFMRQ_Yt.js","js/data-vendor-DBrFxduC.js","js/echarts-vendor-xTKhTmAz.js","assets/vendor-BOltB2Hq.css","js/services-B0KkmCks.js","js/firebase-vendor-DFJ8_Xw5.js","js/utils-CrQ8UdBz.js","js/date-vendor-BU9txqBG.js","js/components-DaeLY-_K.js","assets/components-DgQfaczj.css"])))=&gt;i.map(i=&gt;d[i]);</span></span></span>
<span class="cstat-no" title="statement not covered" >import{u as useAppSelector,_ as __vitePreload,E as store,F as checkRedirectResult,c as auth,G as signInWithSSO,H as useDashboardState,I as useDashboardMonitors,J as useKeyboardShortcuts,K as usePerformanceMonitor,L as useAceSites,M as useAcePoints,N as useAceDataRefresh,O as createLogger,P as DashboardProvider,C as useSnackbar,x as db,D as firebaseFunctions,g as glassEffect}from"./app-core-rH6lZf1X.js";import{z as useNavigate,at as useLocation,O as React,aA as Dashboard$2,aC as SettingsIcon,n as reactExports,q as jsxRuntimeExports,E as Box,T as Typography,A as Alert,ag as AlertTitle,V as Button,I as Paper,aj as Tooltip,ae as IconButton,dD as HelpOutlineIcon,cS as TextField,cT as InputAdornment,dv as VisibilityOffIcon,dw as VisibilityIcon,cU as ClearIcon,ah as CircularProgress,S as Snackbar,bZ as Email,bY as LockIcon,a as useSelector,e3 as WarningAmberIcon,e4 as Link,dk as Accordion,dl as AccordionSummary,a4 as ExpandMoreIcon,dm as AccordionDetails,X as List,Y as ListItem,Z as ListItemIcon,e5 as CheckCircleOutlineIcon,$ as ListItemText,aQ as SecurityIcon,e6 as ContactSupportIcon,Q as Chip,aR as AdminPanelSettings,cE as Tabs,cF as Tab,e7 as PeopleIcon,c6 as AddIcon,H as TableContainer,J as Table,cC as TableHead,M as TableRow,N as TableCell,L as TableBody,c_ as FormControl,aq as Select,ar as MenuItem,e8 as BlockIcon,_ as CheckCircleIcon,d8 as Delete,D as Dialog,C as DialogTitle,G as DialogContent,c$ as InputLabel,U as DialogActions,du as Container,aD as HelpIcon,cG as Grid,a9 as Card,aa as CardContent,dg as CloudIcon,dE as ShowChart,aF as Speed,aw as Divider,W as BuildIcon,aL as FolderIcon,c7 as Share,a6 as Refresh,cD as Download,e9 as KeyboardIcon,a1 as WarningIcon,dJ as Timeline,dK as BubbleChart,dS as GridOn,o as useTheme,ea as useParams,v as alpha,as as Stack,aO as PersonIcon,cm as DateRange}from"./vendor-CFMRQ_Yt.js";import{a as useSetBreadcrumbs,b as useRememberMe,E as EnhancedAuthError,R as RememberMeCheckbox,S as SSOButtons,D as DashboardLoadingStates,K as KeyboardNavigationProvider,c as DashboardPullToRefresh,d as DashboardEmptyState,e as EmptyDashboardState,f as DashboardPerformance,g as SimpleGridDashboard,h as DashboardActions,O as OnboardingFlow,i as DashboardModals,j as OptimisticUpdateNotification,F as FeedbackProvider,k as OptimisticNotifications,l as ErrorBoundary,m as SystemSettings,U as UnifiedChartRenderer}from"./components-DaeLY-_K.js";import{v as sendPasswordResetEmail,w as signInWithEmailAndPassword,l as doc,u as updateDoc,o as serverTimestamp,m as getDoc}from"./firebase-vendor-DFJ8_Xw5.js";import{b6 as getExportFormatRecommendation,b7 as exportDashboardData,b8 as useBatchedUpdates}from"./utils-CrQ8UdBz.js";import{T as TokenValidator,M as MultiTokenManager}from"./services-B0KkmCks.js";import{f as format}from"./date-vendor-BU9txqBG.js";const Settings$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;{const navigate=useNavigate(),location=useLocation(),{firebaseUser:firebaseUser,aceToken:aceToken}=useAppSelector(state=&gt;state.auth);useSetBreadcrumbs([{label:"Dashboard",path:"/dashboard",icon:React.createElement(Dashboard$2),description:"Main dashboard"},{label:"Settings",current:!0,icon:React.createElement(SettingsIcon),description:"Application settings and configuration"}]);const isTokenSetup="token"===new URLSearchParams(location.search).get("setup"),[showWelcome,setShowWelcome]=reactExports.useState(isTokenSetup&amp;&amp;!aceToken),[tokenInput,setTokenInput]=reactExports.useState(""),[tokenError,setTokenError]=reactExports.useState(""),[isTokenLoading,setIsTokenLoading]=reactExports.useState(!1),[showSnackbar,setShowSnackbar]=reactExports.useState(!1),[snackbarMessage,setSnackbarMessage]=reactExports.useState(""),[snackbarSeverity,setSnackbarSeverity]=reactExports.useState("success"),[showToken,setShowToken]=reactExports.useState(!1);reactExports.useEffect(()=&gt;{aceToken&amp;&amp;setTokenInput(aceToken)},[aceToken]);const handleSaveToken=async()=&gt;{if(!(null==firebaseUser?void 0:firebaseUser.uid))return setSnackbarSeverity("error"),setSnackbarMessage("You must be logged in to save settings"),void setShowSnackbar(!0);if(tokenInput===aceToken)return setSnackbarSeverity("info"),setSnackbarMessage("Token is already saved and active"),void setShowSnackbar(!0);setIsTokenLoading(!0);try{const trimmedToken=tokenInput.trim();if(3!==trimmedToken.split(".").length)return setTokenError("Invalid JWT format - must have 3 parts separated by dots"),void setIsTokenLoading(!1);const{default:tokenManager}=await __vitePreload(async()=&gt;{const{default:tokenManager2}=await import("./app-core-rH6lZf1X.js").then(n=&gt;n.af);return{default:tokenManager2}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]));await tokenManager.saveToken(firebaseUser.uid,trimmedToken),setTokenInput(trimmedToken);store.getState().auth.aceToken?(setSnackbarSeverity("success"),setSnackbarMessage("Token saved! Redirecting to dashboard in 3 seconds..."),setShowSnackbar(!0),setTimeout(()=&gt;{navigate("/dashboard")},3e3)):(setSnackbarSeverity("error"),setSnackbarMessage("Token saved but not properly loaded. Please refresh the page."),setShowSnackbar(!0))}catch(error){console.error("Error saving token:",error),setSnackbarSeverity("error"),setSnackbarMessage(error instanceof Error?`Failed to save token: ${error.message}`:"Failed to save token"),setShowSnackbar(!0)}finally{setIsTokenLoading(!1)}};return jsxRuntimeExports.jsxs(Box,{sx:{maxWidth:600,mx:"auto",px:{xs:2,sm:3},py:{xs:2,sm:4},minHeight:"100vh"},children:[jsxRuntimeExports.jsxs(Box,{sx:{mb:4,textAlign:"center"},children:[jsxRuntimeExports.jsx(Typography,{component:"h1",variant:"h4",gutterBottom:!0,sx:{fontWeight:700,background:"linear-gradient(45deg, #1976d2, #42a5f5)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",mb:1},children:"API Configuration"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Connect to your building data sources"})]}),showWelcome&amp;&amp;!aceToken&amp;&amp;jsxRuntimeExports.jsxs(Alert,{severity:"info",sx:{mb:3},action:jsxRuntimeExports.jsx(Button,{color:"inherit",size:"small",onClick:()=&gt;setShowWelcome(!1),children:"Dismiss"}),children:[jsxRuntimeExports.jsx(AlertTitle,{children:"Welcome to Building Vitals!"}),"To access your building data, enter your ACE IoT API JWT token below. Contact your system administrator or the SES Cx Team to obtain your token."]}),jsxRuntimeExports.jsxs(Paper,{elevation:isTokenSetup?6:3,sx:{p:3,border:isTokenSetup&amp;&amp;!aceToken?"2px solid":"none",borderColor:"primary.main"},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",mb:2},children:[jsxRuntimeExports.jsx(Typography,{sx:{flexGrow:1},variant:"h6",children:"ACE API Token"}),jsxRuntimeExports.jsx(Tooltip,{title:"ACE IoT API requires a JWT token for authentication. Contact your system administrator or the SES Cx Team to obtain your long-lived token.",children:jsxRuntimeExports.jsx(IconButton,{size:"small",children:jsxRuntimeExports.jsx(HelpOutlineIcon,{})})})]}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,color:"text.secondary",variant:"body2",children:"Enter your ACE IoT API JWT token. Your token is securely encrypted and stored."}),jsxRuntimeExports.jsxs(Box,{component:"form",onSubmit:e=&gt;{e.preventDefault(),handleSaveToken()},sx:{mb:2},children:[jsxRuntimeExports.jsx(TextField,{fullWidth:!0,label:"ACE IoT API Token",placeholder:"Enter your JWT token here (eyJ...)",type:showToken?"text":"password",value:tokenInput,error:!!tokenError,helperText:tokenError||"JWT token format: xxx.yyy.zzz (starts with eyJ)",onChange:e=&gt;(value=&gt;{if(setTokenInput(value),setTokenError(""),value){const trimmed=value.trim();if(3!==trimmed.split(".").length)return void setTokenError("Invalid JWT format - must have 3 parts separated by dots (xxx.yyy.zzz)");if(!trimmed.startsWith("eyJ"))return void setTokenError('Invalid JWT - should start with "eyJ"');if(trimmed.length&lt;100)return void setTokenError("Token too short - JWT tokens are typically longer")}})(e.target.value),InputProps:{endAdornment:jsxRuntimeExports.jsxs(InputAdornment,{position:"end",children:[jsxRuntimeExports.jsx(IconButton,{onClick:()=&gt;setShowToken(!showToken),edge:"end",sx:{mr:1},children:showToken?jsxRuntimeExports.jsx(VisibilityOffIcon,{}):jsxRuntimeExports.jsx(VisibilityIcon,{})}),tokenInput&amp;&amp;jsxRuntimeExports.jsx(IconButton,{edge:"end",onClick:()=&gt;{setTokenInput(""),setTokenError("")},children:jsxRuntimeExports.jsx(ClearIcon,{})})]})},inputProps:{autoComplete:"new-password",style:{fontSize:16}},sx:{"&amp; .MuiInputBase-root":{fontSize:16}}}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",gap:2,mt:2,flexDirection:{xs:"column",sm:"row"},justifyContent:"flex-end"},children:[jsxRuntimeExports.jsx(Button,{variant:"outlined",disabled:isTokenLoading||!tokenInput||!!tokenError,onClick:async()=&gt;{if(!(null==firebaseUser?void 0:firebaseUser.uid))return setSnackbarSeverity("error"),setSnackbarMessage("You must be logged in to test tokens"),void setShowSnackbar(!0);if(tokenInput){setIsTokenLoading(!0);try{const trimmedToken=tokenInput.trim();if(3!==trimmedToken.split(".").length)return setTokenError("Invalid JWT format - must have 3 parts separated by dots"),void setIsTokenLoading(!1);const{cloudflareWorkerClient:cloudflareWorkerClient}=await __vitePreload(async()=&gt;{const{cloudflareWorkerClient:cloudflareWorkerClient2}=await import("./app-core-rH6lZf1X.js").then(n=&gt;n.ac);return{cloudflareWorkerClient:cloudflareWorkerClient2}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]));try{cloudflareWorkerClient.setToken(trimmedToken),await cloudflareWorkerClient.fetchSites(),setSnackbarSeverity("success"),setSnackbarMessage("Token is valid and working!")}catch(validationError){setSnackbarSeverity("error"),setSnackbarMessage("Token validation failed - unable to fetch sites. Check that your token is correct.")}setShowSnackbar(!0)}catch(error){setSnackbarSeverity("error"),setSnackbarMessage(`Failed to test token: ${error instanceof Error?error.message:"Unknown error"}`),setShowSnackbar(!0)}finally{setIsTokenLoading(!1)}}},sx:{minHeight:44},children:"Test Token"}),jsxRuntimeExports.jsx(Button,{variant:"contained",type:"submit",disabled:isTokenLoading||!tokenInput,onClick:handleSaveToken,sx:{minHeight:44},children:isTokenLoading?jsxRuntimeExports.jsx(CircularProgress,{size:24}):"Save Token"})]})]}),aceToken&amp;&amp;jsxRuntimeExports.jsx(Alert,{severity:"success",children:"API Token is configured and active"})]}),jsxRuntimeExports.jsx(Snackbar,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:6e3,open:showSnackbar,onClose:()=&gt;setShowSnackbar(!1),children:jsxRuntimeExports.jsx(Alert,{severity:snackbarSeverity,sx:{width:"100%"},onClose:()=&gt;setShowSnackbar(!1),children:snackbarMessage})})]})}},Symbol.toStringTag,{value:"Module"})),Login$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;{const navigate=useNavigate(),{getRememberedEmail:getRememberedEmail,setRememberMe:setRememberMe,checkAutoLogin:checkAutoLogin}=useRememberMe(),[email,setEmail]=reactExports.useState(getRememberedEmail()),[password,setPassword]=reactExports.useState(""),[showPassword,setShowPassword]=reactExports.useState(!1),[rememberMe,setRememberMeState]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!1),[forgotPasswordMode,setForgotPasswordMode]=reactExports.useState(!1),[resetEmailSent,setResetEmailSent]=reactExports.useState(!1),[ssoLoading,setSsoLoading]=reactExports.useState(!1);reactExports.useEffect(()=&gt;{checkRedirectResult().then(result=&gt;{result&amp;&amp;navigate("/")}).catch(error2=&gt;{setError(error2)})},[navigate]),reactExports.useEffect(()=&gt;{const autoLogin=checkAutoLogin();autoLogin.valid&amp;&amp;autoLogin.email&amp;&amp;(setEmail(autoLogin.email),setRememberMeState(!0)),document.documentElement.style.height="100%",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.style.margin="0",document.body.style.padding="0",document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.minHeight="100vh";const root=document.getElementById("root");return root&amp;&amp;(root.style.height="100%",root.style.minHeight="100vh"),()=&gt;{document.documentElement.style.height="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.style.margin="",document.body.style.padding="",document.body.style.overflow="",document.body.style.height="",document.body.style.minHeight="",root&amp;&amp;(root.style.height="",root.style.minHeight="")}},[checkAutoLogin]);const handleSSOSignIn=async provider=&gt;{var _a;setError(null),setSsoLoading(!0);try{await signInWithSSO(provider,!1),navigate("/")}catch(error2){if(null==(_a=error2.message)?void 0:_a.includes("popup"))try{await signInWithSSO(provider,!0)}catch(redirectError){setError(redirectError),setSsoLoading(!1)}else setError(error2),setSsoLoading(!1)}};return jsxRuntimeExports.jsxs(Box,{sx:{width:"100vw",height:"100vh",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:0,margin:0,overflow:"hidden",position:"fixed",inset:0,backgroundColor:"#000"},children:[jsxRuntimeExports.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",objectFit:"contain",backgroundColor:"#000",zIndex:0},children:[jsxRuntimeExports.jsx("source",{src:"/ekg.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),jsxRuntimeExports.jsx(Box,{sx:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:1}}),jsxRuntimeExports.jsxs(Box,{component:"form",sx:{width:"90%",maxWidth:440,margin:"auto",padding:{xs:3,sm:4},backgroundColor:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px 0 rgba(0, 229, 255, 0.2)",borderRadius:3,position:"relative",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"center"},onSubmit:forgotPasswordMode?async e=&gt;{e.preventDefault(),setError(null),setIsLoading(!0);try{await sendPasswordResetEmail(auth,email),setResetEmailSent(!0),setTimeout(()=&gt;{setForgotPasswordMode(!1),setResetEmailSent(!1)},5e3)}catch(err){setError(err)}finally{setIsLoading(!1)}}:async e=&gt;{e.preventDefault(),setError(null),setIsLoading(!0);try{await signInWithEmailAndPassword(auth,email,password),setRememberMe(email,rememberMe),navigate("/")}catch(err){setError(err)}finally{setIsLoading(!1)}},children:[jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",mb:4},children:[jsxRuntimeExports.jsx(Box,{alt:"SES Logo",component:"img",src:"/logo-white.png",sx:{height:64,mb:3,filter:"drop-shadow(0 0 20px rgba(0, 229, 255, 0.5))"}}),jsxRuntimeExports.jsx(Typography,{sx:{fontWeight:700,mb:1,color:"white"},variant:"h3",children:"Building Vitals"}),jsxRuntimeExports.jsx(Typography,{sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.95rem",letterSpacing:"0.05em"},variant:"body1",children:"Realtime Insights for Smarter Buildings"})]}),error&amp;&amp;jsxRuntimeExports.jsx(EnhancedAuthError,{error:error,onDismiss:()=&gt;setError(null),onResetPassword:()=&gt;setForgotPasswordMode(!0),onContactSupport:()=&gt;window.open("mailto:support@ses.com","_blank")}),resetEmailSent&amp;&amp;jsxRuntimeExports.jsx(Alert,{severity:"success",sx:{mb:3,backgroundColor:"rgba(105, 240, 174, 0.1)",border:"1px solid rgba(105, 240, 174, 0.3)"},children:"Password reset email sent! Check your inbox."}),forgotPasswordMode?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{sx:{mb:3,color:"rgba(255, 255, 255, 0.7)"},variant:"body2",children:"Enter your email address and we'll send you a link to reset your password."}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,required:!0,InputProps:{startAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"start",children:jsxRuntimeExports.jsx(Email,{sx:{color:"rgba(255, 255, 255, 0.5)"}})})},disabled:isLoading,label:"Email",sx:{mb:3},type:"email",value:email,onChange:e=&gt;setEmail(e.target.value)}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,disabled:isLoading||!email,size:"large",sx:{py:1.5,fontSize:"1rem",fontWeight:600,mb:2},type:"submit",variant:"contained",children:isLoading?jsxRuntimeExports.jsx(CircularProgress,{color:"inherit",size:24}):"Send Reset Email"}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"outlined",onClick:()=&gt;{setForgotPasswordMode(!1),setError(null)},children:"Back to Sign In"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextField,{fullWidth:!0,required:!0,InputProps:{startAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"start",children:jsxRuntimeExports.jsx(Email,{sx:{color:"rgba(255, 255, 255, 0.5)"}})})},autoComplete:"email",disabled:isLoading,label:"Email",sx:{mb:3},type:"email",value:email,onChange:e=&gt;setEmail(e.target.value)}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,required:!0,InputProps:{startAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"start",children:jsxRuntimeExports.jsx(LockIcon,{sx:{color:"rgba(255, 255, 255, 0.5)"}})}),endAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"end",children:jsxRuntimeExports.jsx(IconButton,{edge:"end",sx:{color:"rgba(255, 255, 255, 0.5)"},onClick:()=&gt;setShowPassword(!showPassword),children:showPassword?jsxRuntimeExports.jsx(VisibilityOffIcon,{}):jsxRuntimeExports.jsx(VisibilityIcon,{})})})},autoComplete:"current-password",disabled:isLoading,label:"Password",sx:{mb:1},type:showPassword?"text":"password",value:password,onChange:e=&gt;setPassword(e.target.value)}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[jsxRuntimeExports.jsx(RememberMeCheckbox,{checked:rememberMe,onChange:setRememberMeState}),jsxRuntimeExports.jsx(Button,{size:"small",sx:{color:"primary.main",textTransform:"none","&amp;:hover":{backgroundColor:"rgba(0, 229, 255, 0.1)"}},variant:"text",onClick:()=&gt;setForgotPasswordMode(!0),children:"Forgot password?"})]}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,disabled:isLoading||ssoLoading,size:"large",sx:{py:1.5,fontSize:"1rem",fontWeight:600,background:"linear-gradient(135deg, #00E5FF 0%, #00BFA5 100%)",boxShadow:"0 4px 20px rgba(0, 229, 255, 0.3)","&amp;:hover":{boxShadow:"0 6px 30px rgba(0, 229, 255, 0.4)"}},type:"submit",variant:"contained",children:isLoading?jsxRuntimeExports.jsx(CircularProgress,{color:"inherit",size:24}):"Sign In"}),jsxRuntimeExports.jsx(SSOButtons,{onGoogleSignIn:()=&gt;handleSSOSignIn("google"),onMicrosoftSignIn:()=&gt;handleSSOSignIn("microsoft"),isLoading:ssoLoading,disabled:isLoading})]})]})]})}},Symbol.toStringTag,{value:"Module"})),multiTokenManager=MultiTokenManager.getInstance(),adaptSiteToken=token=&gt;({siteId:token.siteId,siteName:token.siteName,token:token.token,tokenHash:token.tokenHash,createdAt:token.createdAt,updatedAt:token.updatedAt,expiresAt:token.expiresAt,isDefault:token.isDefault,lastUsed:token.lastUsed,metadata:token.metadata}),adaptTokenValidation=validation=&gt;({valid:validation.isValid,expired:validation.isExpired,expiresAt:validation.expiresAt,daysUntilExpiry:validation.daysUntilExpiration??void 0,reason:validation.errors.length&gt;0?validation.errors.join(", "):void 0}),TokenExpiryWarning=React.lazy(async()=&gt;{try{return{default:(await __vitePreload(()=&gt;import("./components-DaeLY-_K.js").then(n=&gt;n.w),__vite__mapDeps([9,1,2,3,4,0,5,6,7,8,10]))).TokenExpiryWarning}}catch(error){return console.warn("[DashboardView] TokenExpiryWarning not found, using placeholder"),{default:()=&gt;null}}});React.lazy(async()=&gt;{try{return{default:(await __vitePreload(()=&gt;import("./components-DaeLY-_K.js").then(n=&gt;n.v),__vite__mapDeps([9,1,2,3,4,0,5,6,7,8,10]))).TokenStatusBadge}}catch(error){return console.warn("[DashboardView] TokenStatusBadge not found, using placeholder"),{default:()=&gt;null}}});const DashboardView=({aceSitesLoading:aceSitesLoading=!1,acePointsLoading:acePointsLoading=!1,aceSitesError:aceSitesError=null,acePointsError:acePointsError=null})=&gt;{const navigate=useNavigate(),[siteTokens,setSiteTokens]=reactExports.useState(new Map),[serviceValidations,setServiceValidations]=reactExports.useState(new Map),[authValidations,setAuthValidations]=reactExports.useState(new Map),[currentSite,setCurrentSite]=reactExports.useState(null),[tokenValidator]=reactExports.useState(()=&gt;new TokenValidator),{dashboardContext:dashboardContext,queryClient:queryClient,responsive:responsive,uiState:uiState,setUIState:setUIState,setDashboardState:setDashboardState,notification:notification,notificationActions:notificationActions,searchInputRef:searchInputRef,layoutSaveTimeoutRef:layoutSaveTimeoutRef}=useDashboardState(),{currentDashboardId:currentDashboardId,dashboardName:dashboardName,monitors:monitors,layouts:layouts,folders:folders,selectedMonitorId:selectedMonitorId,isViewer:isViewer,isLoading:isLoading,error:error,dashboards:dashboards,snapshots:snapshots,aceSites:aceSites,acePoints:acePoints,aceDataRefresh:aceDataRefresh,saveDashboardMutation:saveDashboardMutation,setMonitors:setMonitors,setFolders:setFolders,setDashboardName:setDashboardName,onDashboardChange:onDashboardChange,onDashboardSave:onDashboardSave,onCreateNewDashboard:onCreateNewDashboard,onSnapshotSave:onSnapshotSave,onSnapshotDelete:onSnapshotDelete,onSnapshotExport:onSnapshotExport,onErrorReset:onErrorReset,moveMonitorToFolder:moveMonitorToFolder,setErrorState:setErrorState}=dashboardContext,{handleMonitorCreate:handleMonitorCreate,handleMonitorUpdate:handleMonitorUpdate,handleMonitorDelete:handleMonitorDelete,handleMonitorDuplicate:handleMonitorDuplicate,getTimeRangeDates:getTimeRangeDates}=useDashboardMonitors({monitors:monitors,layouts:layouts,currentDashboardId:currentDashboardId,dashboardName:dashboardName,folders:folders,gridCols:responsive.gridCols,isMobile:responsive.isMobile,isTablet:responsive.isTablet,setMonitors:setMonitors,setDashboardState:setDashboardState,setErrorState:setErrorState,saveDashboardMutation:saveDashboardMutation,showPending:notificationActions.showPending,showSuccess:notificationActions.showSuccess,showError:notificationActions.showError}),handleMonitorCreateWithUI=reactExports.useCallback(async config=&gt;{setUIState.setWizardOpen(!1),await handleMonitorCreate(config)},[handleMonitorCreate,setUIState.setWizardOpen]),handleMonitorEditWithUI=reactExports.useCallback(monitorOrId=&gt;{const monitor="string"==typeof monitorOrId?monitors.find(m=&gt;m.id===monitorOrId):monitorOrId;monitor&amp;&amp;(setUIState.setEditingMonitor(monitor),setUIState.setWizardOpen(!0))},[monitors,setUIState.setEditingMonitor,setUIState.setWizardOpen]),handleMonitorUpdateWithUI=reactExports.useCallback(async config=&gt;{await handleMonitorUpdate(config),setUIState.setEditingMonitor(null),setUIState.setWizardOpen(!1)},[handleMonitorUpdate,setUIState.setEditingMonitor,setUIState.setWizardOpen]),handleExportAll=reactExports.useCallback(async()=&gt;{try{if(0===monitors.length)return void console.warn("[DASHBOARD] No monitors to export");const{start:start,end:end}=getTimeRangeDates(),timeRangeHours=(new Date(end).getTime()-new Date(start).getTime())/36e5,totalPoints=monitors.reduce((sum,m)=&gt;sum+m.selectedPoints.length,0),recommendation=getExportFormatRecommendation(totalPoints,timeRangeHours);await exportDashboardData(monitors,start.toISOString(),end.toISOString(),dashboardName||"dashboard",{format:recommendation.recommended,groupBySite:monitors.length&gt;10,includeMetadata:!0}),console.log("[DASHBOARD] Export completed successfully")}catch(error2){console.error("[DASHBOARD] Export failed:",error2),setErrorState(prev=&gt;({...prev,general:error2}))}},[monitors,getTimeRangeDates,dashboardName,setErrorState]),handleRefreshAll=reactExports.useCallback(async()=&gt;{await Promise.all(monitors.map(monitor=&gt;queryClient.invalidateQueries({queryKey:["monitorData",monitor.id,monitor.selectedPoints,monitor.timeRange||"24h"]})))},[monitors,queryClient]),handleSnapshotRestore=reactExports.useCallback(snapshotId=&gt;{const snapshot=snapshots.find(s=&gt;s.id===snapshotId);if(null==snapshot?void 0:snapshot.data){const monitorIndex=monitors.findIndex(m=&gt;m.id===snapshot.monitorId);if(-1!==monitorIndex){const updatedMonitors=[...monitors];updatedMonitors[monitorIndex]={...updatedMonitors[monitorIndex],config:snapshot.data.config||{},id:monitors[monitorIndex].id},setMonitors(updatedMonitors),setUIState.setSnapshotsDialogOpen(!1),queryClient.invalidateQueries({queryKey:["timeSeriesData",monitors[monitorIndex].siteId,monitors[monitorIndex].selectedPoints]})}}},[snapshots,monitors,queryClient,setMonitors,setUIState.setSnapshotsDialogOpen]);useKeyboardShortcuts({onAddMonitor:isViewer?void 0:()=&gt;setUIState.setWizardOpen(!0),onSaveDashboard:isViewer?void 0:onDashboardSave,onToggleFullscreen:()=&gt;{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},onRefreshAll:handleRefreshAll,onSearchFocus:()=&gt;{var _a;null==(_a=searchInputRef.current)||_a.focus()},onExportData:handleExportAll,onDeleteSelected:selectedMonitorId?()=&gt;handleMonitorDelete(selectedMonitorId):void 0,onDuplicateSelected:selectedMonitorId?()=&gt;{const monitor=monitors.find(m=&gt;m.id===selectedMonitorId);monitor&amp;&amp;handleMonitorDuplicate(monitor)}:void 0,onToggleHelp:()=&gt;setUIState.setShortcutsDialogOpen(!0),selectedMonitorId:selectedMonitorId||void 0}),reactExports.useEffect(()=&gt;{const handleGlobalClick=event=&gt;{if(uiState.speedDialOpen){const target=event.target;if(target&amp;&amp;(target.closest('[role="dialog"]')||target.closest(".MuiDialog-root")||target.closest(".MuiModal-root")||target.closest(".MuiSpeedDial-root")||target.closest(".MuiSpeedDialAction-fab")||target.closest('[data-testid*="dialog"]')))return;setUIState.setSpeedDialOpen(!1)}};return document.addEventListener("click",handleGlobalClick,!0),()=&gt;document.removeEventListener("click",handleGlobalClick,!0)},[uiState.speedDialOpen,setUIState.setSpeedDialOpen]),reactExports.useEffect(()=&gt;()=&gt;{layoutSaveTimeoutRef.current&amp;&amp;clearTimeout(layoutSaveTimeoutRef.current)},[layoutSaveTimeoutRef]),reactExports.useEffect(()=&gt;{const loadTokenData=async()=&gt;{try{const tokens=await multiTokenManager.getAllSiteTokens(),adaptedTokens=new Map;for(const[siteId,token]of tokens)adaptedTokens.set(siteId,adaptSiteToken(token));setSiteTokens(adaptedTokens);const newServiceValidations=new Map,newAuthValidations=new Map;for(const[siteId,tokenData]of tokens){const serviceValidation=await tokenValidator.validate(tokenData.token);newServiceValidations.set(siteId,serviceValidation),newAuthValidations.set(siteId,adaptTokenValidation(serviceValidation))}setServiceValidations(newServiceValidations),setAuthValidations(newAuthValidations);const current=multiTokenManager.getCurrentSite();setCurrentSite(current)}catch(error2){console.error("[DashboardView] Failed to load token data:",error2)}};loadTokenData();const interval=setInterval(loadTokenData,3e5);return()=&gt;clearInterval(interval)},[tokenValidator]),reactExports.useEffect(()=&gt;{const handleTokenChange=async()=&gt;{try{const tokens=await multiTokenManager.getAllSiteTokens(),adaptedTokens=new Map;for(const[siteId,token]of tokens)adaptedTokens.set(siteId,adaptSiteToken(token));setSiteTokens(adaptedTokens);const newServiceValidations=new Map,newAuthValidations=new Map;for(const[siteId,tokenData]of tokens){const serviceValidation=await tokenValidator.validate(tokenData.token);newServiceValidations.set(siteId,serviceValidation),newAuthValidations.set(siteId,adaptTokenValidation(serviceValidation))}setServiceValidations(newServiceValidations),setAuthValidations(newAuthValidations)}catch(error2){console.error("[DashboardView] Token change handler failed:",error2)}},handleSiteChange2=({siteId:siteId})=&gt;{setCurrentSite(siteId),handleRefreshAll()};return multiTokenManager.on("tokenAdded",handleTokenChange),multiTokenManager.on("tokenUpdated",handleTokenChange),multiTokenManager.on("tokenRemoved",handleTokenChange),multiTokenManager.on("currentSiteChanged",handleSiteChange2),()=&gt;{multiTokenManager.off("tokenAdded",handleTokenChange),multiTokenManager.off("tokenUpdated",handleTokenChange),multiTokenManager.off("tokenRemoved",handleTokenChange),multiTokenManager.off("currentSiteChanged",handleSiteChange2)}},[tokenValidator]),reactExports.useCallback(async siteId=&gt;{try{multiTokenManager.setCurrentSite(siteId),setCurrentSite(siteId),await handleRefreshAll()}catch(error2){console.error("[DashboardView] Failed to change site:",error2),notificationActions.showError("Failed to change site. Please try again.")}},[handleRefreshAll,notificationActions]);const handleTokenClick=reactExports.useCallback(siteId=&gt;{navigate("/settings")},[navigate]),allLoading=isLoading||aceSitesLoading||acePointsLoading,allErrors=error||aceSitesError||acePointsError;return allLoading||allErrors?jsxRuntimeExports.jsx(DashboardLoadingStates,{isLoading:allLoading,error:allErrors,onErrorReset:onErrorReset}):jsxRuntimeExports.jsx(KeyboardNavigationProvider,{enabled:!responsive.isMobile,showVisualGuide:!0,children:jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:jsxRuntimeExports.jsx(DashboardPullToRefresh,{onRefresh:handleRefreshAll,children:jsxRuntimeExports.jsxs(Box,{sx:{width:"100%",minHeight:"calc(100vh - 48px)",padding:2,paddingBottom:16,position:"relative",display:"flex",flexDirection:"column",overflow:"auto"},children:[jsxRuntimeExports.jsx(React.Suspense,{fallback:jsxRuntimeExports.jsx(Box,{sx:{mb:2}}),children:jsxRuntimeExports.jsx(TokenExpiryWarning,{siteTokens:siteTokens,validations:authValidations,onTokenClick:handleTokenClick})}),!currentDashboardId&amp;&amp;dashboards&amp;&amp;dashboards.length&gt;0?jsxRuntimeExports.jsx(DashboardEmptyState,{dashboards:dashboards,currentDashboardId:currentDashboardId,onDashboardChange:onDashboardChange,onCreateNewDashboard:onCreateNewDashboard}):0===monitors.length?jsxRuntimeExports.jsx(EmptyDashboardState,{isViewer:isViewer,onAddMonitor:()=&gt;setUIState.setWizardOpen(!0)}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DashboardPerformance,{showPerformance:uiState.showPerformance,performanceMetrics:uiState.performanceMetrics,onRefresh:handleRefreshAll,isMobile:responsive.isMobile,isTablet:responsive.isTablet,monitorsCount:monitors.length}),jsxRuntimeExports.jsx(SimpleGridDashboard,{isViewer:isViewer,monitors:monitors,onDeleteMonitor:handleMonitorDelete,onEditMonitor:handleMonitorEditWithUI,onLayoutChange:newLayout=&gt;{console.log("Layout changed:",newLayout),setMonitors(prevMonitors=&gt;{const updatedMonitors=prevMonitors.map(monitor=&gt;{const layoutItem=newLayout.find(item=&gt;item.id===monitor.id);return layoutItem?{...monitor,layout:{i:monitor.id,x:layoutItem.x,y:layoutItem.y,w:layoutItem.width,h:layoutItem.height}}:monitor});if(currentDashboardId&amp;&amp;dashboardName){const dashboardData={id:currentDashboardId,name:dashboardName.trim(),monitors:updatedMonitors,layouts:layouts,folders:folders};saveDashboardMutation.mutateAsync(dashboardData).catch(error2=&gt;{console.error("Failed to save layout changes:",error2),setErrorState(prev=&gt;({...prev,general:error2}))})}return updatedMonitors})}})]}),!responsive.isMobile&amp;&amp;jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DashboardActions,{isViewer:isViewer,speedDialOpen:uiState.speedDialOpen,onSpeedDialToggle:setUIState.setSpeedDialOpen,onAddMonitor:()=&gt;setUIState.setWizardOpen(!0),onSaveDashboard:onDashboardSave,onShareDashboard:()=&gt;setUIState.setShareDialogOpen(!0),onOpenSettings:()=&gt;setUIState.setSettingsDialogOpen(!0),onOrganizeMonitors:()=&gt;setUIState.setFoldersDialogOpen(!0),onViewSnapshots:()=&gt;{setUIState.setSnapshotMonitor(null),setUIState.setSnapshotsDialogOpen(!0)},onShowOnboarding:()=&gt;setUIState.setShowOnboarding(!0)}),jsxRuntimeExports.jsx(Box,{sx:{position:"fixed",bottom:16,left:16,zIndex:1200}})]}),jsxRuntimeExports.jsx(OnboardingFlow,{open:uiState.showOnboarding,onClose:()=&gt;setUIState.setShowOnboarding(!1),onComplete:()=&gt;{localStorage.setItem("hasSeenOnboarding","true"),setUIState.setShowOnboarding(!1),setUIState.setWizardOpen(!0)},userProgress:{hasCreatedDashboard:dashboards.length&gt;0,hasAddedMonitor:monitors.length&gt;0,hasCustomizedLayout:monitors.length&gt;1,hasSharedDashboard:!1}}),jsxRuntimeExports.jsx(DashboardModals,{wizardOpen:uiState.wizardOpen,editingMonitor:uiState.editingMonitor,shortcutsDialogOpen:uiState.shortcutsDialogOpen,shareDialogOpen:uiState.shareDialogOpen,settingsDialogOpen:uiState.settingsDialogOpen,foldersDialogOpen:uiState.foldersDialogOpen,snapshotsDialogOpen:uiState.snapshotsDialogOpen,snapshotMonitor:uiState.snapshotMonitor,setWizardOpen:setUIState.setWizardOpen,setEditingMonitor:setUIState.setEditingMonitor,setShortcutsDialogOpen:setUIState.setShortcutsDialogOpen,setShareDialogOpen:setUIState.setShareDialogOpen,setSettingsDialogOpen:setUIState.setSettingsDialogOpen,setFoldersDialogOpen:setUIState.setFoldersDialogOpen,setSnapshotsDialogOpen:setUIState.setSnapshotsDialogOpen,currentDashboardId:currentDashboardId,dashboardName:dashboardName,folders:folders,monitors:monitors,snapshots:snapshots,aceSites:aceSites,acePoints:acePoints,aceDataRefresh:aceDataRefresh,onMonitorCreate:handleMonitorCreateWithUI,onMonitorUpdate:handleMonitorUpdateWithUI,onMonitorMove:moveMonitorToFolder,onDashboardNameChange:setDashboardName,onFoldersChange:setFolders,onSnapshotSave:onSnapshotSave,onSnapshotDelete:onSnapshotDelete,onSnapshotExport:onSnapshotExport,onSnapshotRestore:handleSnapshotRestore}),jsxRuntimeExports.jsx(OptimisticUpdateNotification,{open:notification.open,status:notification.status,message:notification.message,onClose:notificationActions.hideNotification})]})})})})},logger=createLogger("DashboardContainer"),DashboardContainer=reactExports.memo(()=&gt;{const user=useSelector(state=&gt;state.auth.firebaseUser),{startRenderTiming:startRenderTiming,endRenderTiming:endRenderTiming,getPerformanceSummary:getPerformanceSummary}=usePerformanceMonitor("DashboardContainer",{trackMemory:!0,trackInteractions:!0}),{data:sites=[],isLoading:sitesLoading,error:sitesError}=useAceSites(),{data:points=[],isLoading:pointsLoading,error:pointsError}=useAcePoints(),aceDataRefresh=useAceDataRefresh(),[dashboardState,setBatchedState]=useBatchedUpdates({sites:sites,points:points,loading:sitesLoading||pointsLoading,errors:{sitesError:sitesError,pointsError:pointsError}});return React.useEffect(()=&gt;{setBatchedState(prev=&gt;({...prev,sites:sites,points:points,loading:sitesLoading||pointsLoading,errors:{sitesError:sitesError,pointsError:pointsError}}))},[sites,points,sitesLoading,pointsLoading,sitesError,pointsError,setBatchedState]),React.useEffect(()=&gt;(startRenderTiming(),endRenderTiming)),React.useEffect(()=&gt;{logger.info("Container component mounted",{userId:null==user?void 0:user.uid,sitesCount:sites.length,pointsCount:points.length,hasErrors:!(!sitesError&amp;&amp;!pointsError),performance:getPerformanceSummary()})},[]),jsxRuntimeExports.jsx(FeedbackProvider,{notificationConfig:{maxNotifications:5,defaultPosition:"top-right",defaultDuration:5e3},children:jsxRuntimeExports.jsxs(DashboardProvider,{isViewer:!1,aceSites:dashboardState.sites,acePoints:dashboardState.points,aceDataRefresh:aceDataRefresh,children:[jsxRuntimeExports.jsx(DashboardView,{aceSitesLoading:sitesLoading,acePointsLoading:pointsLoading,aceSitesError:sitesError,acePointsError:pointsError}),jsxRuntimeExports.jsx(OptimisticNotifications,{})]})})});DashboardContainer.displayName="DashboardContainer";const DashboardErrorFallback=()=&gt;{const navigate=useNavigate();return jsxRuntimeExports.jsxs(Box,{sx:{p:3,maxWidth:800,mx:"auto",mt:4},children:[jsxRuntimeExports.jsxs(Alert,{severity:"error",sx:{mb:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:"Dashboard Loading Error"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{mb:2},children:"The dashboard is unable to load because the data service is not available. This usually means the Firebase Functions need to be deployed."}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Error: Cloudflare Workers API service not available"})]}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[jsxRuntimeExports.jsx(Button,{variant:"contained",startIcon:jsxRuntimeExports.jsx(SettingsIcon,{}),onClick:()=&gt;navigate("/settings"),children:"Go to Settings"}),jsxRuntimeExports.jsx(Button,{variant:"outlined",onClick:()=&gt;window.location.reload(),children:"Retry"})]}),jsxRuntimeExports.jsxs(Alert,{severity:"info",sx:{mt:3},children:[jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"For Developers:"})," Deploy Firebase Functions with:"]}),jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"pre",sx:{mt:1,fontFamily:"monospace"},children:"npm run deploy:functions"})]})]})},Dashboard$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;(reactExports.useEffect(()=&gt;{console.log("[DASHBOARD] üè† Dashboard component mounted")},[]),jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx(DashboardErrorFallback,{}),children:jsxRuntimeExports.jsx(DashboardContainer,{})}))},Symbol.toStringTag,{value:"Module"})),MissingTokenPage$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;{const[expandedPanel,setExpandedPanel]=reactExports.useState(!1),handlePanelChange=panel=&gt;(event,isExpanded)=&gt;{setExpandedPanel(!!isExpanded&amp;&amp;panel)};return jsxRuntimeExports.jsx(Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"calc(100vh - 64px)",p:3},children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:4,maxWidth:800,width:"100%"},children:[jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",mb:4},children:[jsxRuntimeExports.jsx(WarningAmberIcon,{color:"warning",sx:{fontSize:60,mb:2}}),jsxRuntimeExports.jsx(Typography,{gutterBottom:!0,variant:"h4",children:"ACE IoT Token Required"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,color:"text.secondary",variant:"body1",children:"To access the Building Vitals dashboard, you need to configure your ACE IoT API token. This token authenticates your access to the building data."}),jsxRuntimeExports.jsx(Button,{component:Link,size:"large",sx:{mt:2},to:"/settings",variant:"contained",children:"Configure Token in Settings"})]}),jsxRuntimeExports.jsx(Alert,{severity:"info",sx:{mb:3},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"New to Building Vitals?"})," Follow the troubleshooting steps below to get started."]})}),jsxRuntimeExports.jsx(Typography,{gutterBottom:!0,sx:{mt:4,mb:2},variant:"h6",children:"Troubleshooting Steps"}),jsxRuntimeExports.jsxs(Accordion,{expanded:"panel1"===expandedPanel,sx:{mb:1},onChange:handlePanelChange("panel1"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{sx:{flexShrink:0},children:[jsxRuntimeExports.jsx(HelpOutlineIcon,{sx:{verticalAlign:"middle",mr:1}}),"How to obtain an ACE IoT token"]})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(CheckCircleOutlineIcon,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Contact your system administrator",secondary:"Request a long-lived JWT token for ACE IoT API access"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(CheckCircleOutlineIcon,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Provide your email address",secondary:"Your admin will need this to create your token with proper permissions"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(CheckCircleOutlineIcon,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Request appropriate permissions",secondary:"Ensure your token has read access to building sensor data"})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"panel2"===expandedPanel,sx:{mb:1},onChange:handlePanelChange("panel2"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{sx:{flexShrink:0},children:[jsxRuntimeExports.jsx(SecurityIcon,{sx:{verticalAlign:"middle",mr:1}}),"Token format and security"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Your ACE IoT token is a JWT (JSON Web Token) with the following characteristics:"}),jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(CheckCircleOutlineIcon,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Format: xxx.yyy.zzz",secondary:"Three base64-encoded parts separated by dots"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(CheckCircleOutlineIcon,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Secure storage",secondary:"Your token is encrypted and stored securely in our database"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(CheckCircleOutlineIcon,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Expiration monitoring",secondary:"We'll warn you when your token is about to expire (7 days in advance)"})]})]}),jsxRuntimeExports.jsx(Alert,{severity:"warning",sx:{mt:2},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Security tip:"})," Never share your token with anyone or include it in emails or messages."]})})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"panel3"===expandedPanel,sx:{mb:1},onChange:handlePanelChange("panel3"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{sx:{flexShrink:0},children:[jsxRuntimeExports.jsx(ContactSupportIcon,{sx:{verticalAlign:"middle",mr:1}}),"Common issues and solutions"]})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Token validation failed",secondary:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{component:"span",variant:"body2",children:"Make sure you've copied the entire token including all three parts (xxx.yyy.zzz)"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Chip,{color:"primary",label:"Solution",size:"small",sx:{mt:.5}}),jsxRuntimeExports.jsxs(Typography,{component:"span",variant:"body2",children:[" ",'Use the "Test Token" button in Settings to validate before saving']})]})})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Token expired",secondary:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{component:"span",variant:"body2",children:"JWT tokens have expiration dates for security"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Chip,{color:"primary",label:"Solution",size:"small",sx:{mt:.5}}),jsxRuntimeExports.jsxs(Typography,{component:"span",variant:"body2",children:[" ","Request a new token from your administrator"]})]})})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Permission denied errors",secondary:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{component:"span",variant:"body2",children:"Your token may not have the required permissions"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Chip,{color:"primary",label:"Solution",size:"small",sx:{mt:.5}}),jsxRuntimeExports.jsxs(Typography,{component:"span",variant:"body2",children:[" ","Contact your admin to verify token permissions"]})]})})})]})})]}),jsxRuntimeExports.jsx(Box,{sx:{mt:4,p:2,bgcolor:"background.default",borderRadius:1},children:jsxRuntimeExports.jsx(Typography,{align:"center",color:"text.secondary",variant:"body2",children:"Still having issues? Contact your system administrator or the SES Cx Team for assistance."})})]})})}},Symbol.toStringTag,{value:"Module"})),Admin$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;{const currentUser=useSelector(state=&gt;state.auth.firebaseUser),[users,setUsers]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[editingUser,setEditingUser]=reactExports.useState(null),[newUser,setNewUser]=reactExports.useState({email:"",password:"",role:"user"}),[isCreateDialogOpen,setIsCreateDialogOpen]=reactExports.useState(!1),[_selectedUserForAction,setSelectedUserForAction]=reactExports.useState(null),[activeTab,setActiveTab]=reactExports.useState(0);useSetBreadcrumbs([{label:"Dashboard",path:"/dashboard",icon:React.createElement(Dashboard$2),description:"Main dashboard"},{label:"Admin Panel",current:!0,icon:React.createElement(AdminPanelSettings),description:"System administration and user management"}]);const snackbar=useSnackbar(),fetchUsers=async()=&gt;{setIsLoading(!0),setError(null);try{const listUsersCallable=firebaseFunctions.httpsCallable("listUsers"),result=await listUsersCallable({maxResults:100});if(!result.data.success||!result.data.users)throw new Error("Failed to list users from Cloud Function.");const usersDataPromises=result.data.users.map(async authUser=&gt;{const userDocRef=doc(db,"users",authUser.uid),userDocSnap=await getDoc(userDocRef),firestoreData=userDocSnap.exists()?userDocSnap.data():{};return{id:authUser.uid,email:authUser.email||"N/A",role:firestoreData.role||"user",disabled:authUser.disabled||!1,aceJwt:firestoreData.aceJwt||null,aceJwtEncrypted:firestoreData.aceJwtEncrypted||null,aceJwtIsEncrypted:firestoreData.aceJwtIsEncrypted||!1}}),usersData=await Promise.all(usersDataPromises);setUsers(usersData)}catch(_err){snackbar.error("Failed to load user data.")}finally{setIsLoading(!1)}};reactExports.useEffect(()=&gt;{(async()=&gt;{if(currentUser)try{if((await __vitePreload(async()=&gt;{const{collection:collection,getDocs:getDocs,query:query,where:where}=await import("./firebase-vendor-DFJ8_Xw5.js").then(n=&gt;n.L);return{collection:collection,getDocs:getDocs,query:query,where:where}},__vite__mapDeps([6,1,2,3,4])).then(({collection:collection,getDocs:getDocs,query:query,where:where})=&gt;getDocs(query(collection(db,"users"),where("role","==","admin"))))).empty){const userDocRef=doc(db,"users",currentUser.uid);await updateDoc(userDocRef,{role:"admin",updatedAt:serverTimestamp()}),snackbar.success("You have been granted admin access as the first admin user."),window.location.reload()}}catch(err){}})().then(()=&gt;{fetchUsers()})},[]);const handleEditDialogClose=()=&gt;{setEditingUser(null)};return jsxRuntimeExports.jsxs(Box,{className:"admin-page-container page-container",sx:{p:3},children:[jsxRuntimeExports.jsx(Typography,{gutterBottom:!0,variant:"h4",children:"Admin Dashboard"}),jsxRuntimeExports.jsxs(Tabs,{sx:{mb:3},value:activeTab,onChange:(e,newValue)=&gt;setActiveTab(newValue),children:[jsxRuntimeExports.jsx(Tab,{icon:jsxRuntimeExports.jsx(PeopleIcon,{}),label:"User Management"}),jsxRuntimeExports.jsx(Tab,{icon:jsxRuntimeExports.jsx(SettingsIcon,{}),label:"System Settings"})]}),0===activeTab&amp;&amp;jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Box,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"User Management"}),jsxRuntimeExports.jsx(Button,{disabled:isLoading,startIcon:jsxRuntimeExports.jsx(AddIcon,{}),variant:"contained",onClick:()=&gt;setIsCreateDialogOpen(!0),children:"Create User"})]}),error&amp;&amp;jsxRuntimeExports.jsx(Alert,{severity:"error",sx:{mb:2},children:error}),isLoading&amp;&amp;jsxRuntimeExports.jsx(Box,{sx:{display:"flex",justifyContent:"center",p:3},children:jsxRuntimeExports.jsx(CircularProgress,{})}),jsxRuntimeExports.jsx(TableContainer,{component:Paper,children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:"Email"}),jsxRuntimeExports.jsx(TableCell,{children:"Role"}),jsxRuntimeExports.jsx(TableCell,{children:"Status"}),jsxRuntimeExports.jsx(TableCell,{children:"ACE IoT"}),jsxRuntimeExports.jsx(TableCell,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:users.map(user=&gt;jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:user.email}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(FormControl,{size:"small",variant:"standard",children:jsxRuntimeExports.jsxs(Select,{disabled:isLoading||user.id===(null==currentUser?void 0:currentUser.uid),value:user.role,onChange:e=&gt;(async(user,newRole)=&gt;{if(user.id!==(null==currentUser?void 0:currentUser.uid)){setIsLoading(!0);try{const userDocRef=doc(db,"users",user.id);await updateDoc(userDocRef,{role:newRole,updatedAt:serverTimestamp()}),snackbar.success(`Role updated to ${newRole} for ${user.email}`),fetchUsers()}catch(_err){snackbar.error("Failed to update user role.")}finally{setIsLoading(!1)}}else snackbar.warning("You cannot change your own role")})(user,e.target.value),children:[jsxRuntimeExports.jsx(MenuItem,{value:"user",children:"User"}),jsxRuntimeExports.jsx(MenuItem,{value:"admin",children:"Admin"}),jsxRuntimeExports.jsx(MenuItem,{value:"viewer",children:"Viewer"})]})})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Chip,{color:user.disabled?"error":"success",icon:user.disabled?jsxRuntimeExports.jsx(BlockIcon,{}):jsxRuntimeExports.jsx(CheckCircleIcon,{}),label:user.disabled?"Disabled":"Active",size:"small"})}),jsxRuntimeExports.jsx(TableCell,{children:user.aceJwtEncrypted||user.aceJwt?jsxRuntimeExports.jsx(Chip,{color:"primary",label:"Connected",size:"small"}):jsxRuntimeExports.jsx(Chip,{label:"Not Connected",size:"small",variant:"outlined"})}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx(IconButton,{size:"small",title:"Send Password Reset",onClick:()=&gt;(async user=&gt;{setIsLoading(!0);try{await sendPasswordResetEmail(auth,user.email),snackbar.success(`Password reset email sent to ${user.email}.`)}catch(err){const message=(null==err?void 0:err.message)||"Unknown error";snackbar.error(`Failed to initiate password reset: ${message}`)}finally{setIsLoading(!1),setSelectedUserForAction(null)}})(user),children:jsxRuntimeExports.jsx(Email,{})}),jsxRuntimeExports.jsx(IconButton,{disabled:user.id===(null==currentUser?void 0:currentUser.uid),size:"small",title:user.disabled?"Enable User":"Disable User",onClick:()=&gt;(async user=&gt;{setIsLoading(!0);try{const newStatus=!user.disabled,toggleUserStatusCallable=firebaseFunctions.httpsCallable("toggleUserStatus"),result=await toggleUserStatusCallable({uid:user.id,disable:newStatus});result.data.success?(snackbar.success(result.data.message),setUsers(users.map(u=&gt;u.id===user.id?{...u,disabled:newStatus}:u))):snackbar.error(result.data.message||"Failed to update user status.")}catch(err){const message=(null==err?void 0:err.message)||"Unknown error";snackbar.error(`Failed to update user status: ${message}`)}finally{setIsLoading(!1)}})(user),children:user.disabled?jsxRuntimeExports.jsx(CheckCircleIcon,{}):jsxRuntimeExports.jsx(BlockIcon,{})}),jsxRuntimeExports.jsx(IconButton,{color:"error",disabled:user.id===(null==currentUser?void 0:currentUser.uid),size:"small",title:"Delete User",onClick:()=&gt;(async user=&gt;{if((null==currentUser?void 0:currentUser.uid)!==user.id){if(window.confirm(`Are you sure you want to delete user ${user.email}?`)){setIsLoading(!0);try{const deleteUserAndDataCallable=firebaseFunctions.httpsCallable("deleteUserAndData"),result=await deleteUserAndDataCallable({uid:user.id});result.data.success?(snackbar.success(result.data.message),setUsers(users.filter(u=&gt;u.id!==user.id))):snackbar.error(result.data.message||"Failed to delete user.")}catch(err){const message=(null==err?void 0:err.message)||"Unknown error";snackbar.error(`Failed to delete user: ${message}`)}finally{setIsLoading(!1)}}}else snackbar.error("Admins cannot delete their own account.")})(user),children:jsxRuntimeExports.jsx(Delete,{})})]})]},user.id))})]})}),jsxRuntimeExports.jsxs(Dialog,{fullWidth:!0,maxWidth:"sm",open:isCreateDialogOpen,onClose:()=&gt;setIsCreateDialogOpen(!1),children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Create New User"}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,fullWidth:!0,label:"Email",margin:"dense",sx:{mb:2},type:"email",value:newUser.email,variant:"outlined",onChange:e=&gt;setNewUser({...newUser,email:e.target.value})}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,InputProps:{startAdornment:jsxRuntimeExports.jsx(InputAdornment,{position:"start",children:jsxRuntimeExports.jsx(LockIcon,{})})},label:"Password",margin:"dense",sx:{mb:2},type:"password",value:newUser.password,variant:"outlined",onChange:e=&gt;setNewUser({...newUser,password:e.target.value})}),jsxRuntimeExports.jsxs(FormControl,{fullWidth:!0,sx:{mb:2},variant:"outlined",children:[jsxRuntimeExports.jsx(InputLabel,{children:"Role"}),jsxRuntimeExports.jsxs(Select,{label:"Role",value:newUser.role,onChange:e=&gt;setNewUser({...newUser,role:e.target.value}),children:[jsxRuntimeExports.jsx(MenuItem,{value:"user",children:"User"}),jsxRuntimeExports.jsx(MenuItem,{value:"admin",children:"Admin"}),jsxRuntimeExports.jsx(MenuItem,{value:"viewer",children:"Viewer"})]})]})]}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:()=&gt;setIsCreateDialogOpen(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{disabled:isLoading,variant:"contained",onClick:async()=&gt;{if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(newUser.email))if(newUser.password.length&lt;6)snackbar.warning("Password must be at least 6 characters long.");else{setIsLoading(!0);try{const createUserCallable=firebaseFunctions.httpsCallable("createUser"),result=await createUserCallable({email:newUser.email,password:newUser.password,role:newUser.role});if(result.data.success){const successMessage="User created successfully!";snackbar.success(successMessage),setIsCreateDialogOpen(!1),setNewUser({email:"",password:"",role:"user"}),fetchUsers()}else snackbar.error(result.data.message||"Failed to create user.")}catch(err){const message=(null==err?void 0:err.message)||"Unknown error";snackbar.error(`Failed to create user: ${message}`)}finally{setIsLoading(!1)}}else snackbar.warning("Please enter a valid email address.")},children:"Create"})]})]}),jsxRuntimeExports.jsxs(Dialog,{fullWidth:!0,maxWidth:"sm",open:!!editingUser,onClose:handleEditDialogClose,children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit User"}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(TextField,{disabled:!0,fullWidth:!0,label:"Email",margin:"dense",sx:{mb:2},type:"email",value:(null==editingUser?void 0:editingUser.email)||"",variant:"outlined"}),jsxRuntimeExports.jsxs(FormControl,{fullWidth:!0,sx:{mb:2},variant:"outlined",children:[jsxRuntimeExports.jsx(InputLabel,{children:"Role"}),jsxRuntimeExports.jsxs(Select,{disabled:(null==editingUser?void 0:editingUser.id)===(null==currentUser?void 0:currentUser.uid),label:"Role",value:(null==editingUser?void 0:editingUser.role)||"user",onChange:e=&gt;setEditingUser({...editingUser,role:e.target.value}),children:[jsxRuntimeExports.jsx(MenuItem,{value:"user",children:"User"}),jsxRuntimeExports.jsx(MenuItem,{value:"admin",children:"Admin"}),jsxRuntimeExports.jsx(MenuItem,{value:"viewer",children:"Viewer"})]})]}),(null==editingUser?void 0:editingUser.id)===(null==currentUser?void 0:currentUser.uid)&amp;&amp;jsxRuntimeExports.jsx(Alert,{severity:"info",sx:{mt:1},children:"You cannot change your own role"})]}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:handleEditDialogClose,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{disabled:isLoading||(null==editingUser?void 0:editingUser.id)===(null==currentUser?void 0:currentUser.uid),variant:"contained",onClick:async()=&gt;{if(editingUser){setIsLoading(!0);try{const userDocRef=doc(db,"users",editingUser.id),{_id:_id,...dataToUpdate}=editingUser;await updateDoc(userDocRef,dataToUpdate),snackbar.success("User updated successfully!"),handleEditDialogClose(),fetchUsers()}catch(_err){}finally{setIsLoading(!1)}}},children:"Update"})]})]})]}),1===activeTab&amp;&amp;jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(SystemSettings,{})})]})}},Symbol.toStringTag,{value:"Module"})),HelpPage$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;{const[expanded,setExpanded]=reactExports.useState("getting-started");useSetBreadcrumbs([{label:"Dashboard",path:"/dashboard",icon:jsxRuntimeExports.jsx(Dashboard$2,{}),description:"Main dashboard"},{label:"Help &amp; Documentation",current:!0,icon:jsxRuntimeExports.jsx(HelpIcon,{}),description:"Complete guide to Building Vitals"}]);const handleAccordionChange=panel=&gt;(event,isExpanded)=&gt;{setExpanded(!!isExpanded&amp;&amp;panel)},chartCategories=[{category:"Time Series Visualizations",icon:jsxRuntimeExports.jsx(Timeline,{}),charts:[{name:"Time Series",description:"Line chart tracking values over time with smooth lines"},{name:"Area Chart",description:"Filled area chart for comparing values over time"},{name:"Bar Chart",description:"Bar visualization for comparing discrete time periods"}]},{category:"Correlation Analysis",icon:jsxRuntimeExports.jsx(BubbleChart,{}),charts:[{name:"Scatter Plot",description:"Find correlations between two variables"},{name:"Bubble Chart",description:"Scatter plot with bubble size representing a third dimension"},{name:"Stream Scatter",description:"Real-time streaming scatter plot visualization"},{name:"Parallel Coordinates",description:"Compare multiple variables simultaneously"}]},{category:"Pattern &amp; Deviation Analysis",icon:jsxRuntimeExports.jsx(GridOn,{}),charts:[{name:"Heatmap",description:"Visualize patterns by hour and day of week"},{name:"High Resolution Heatmap",description:"Dense heatmap for large datasets (1M+ points)"},{name:"Deviation Calendar",description:"Calendar view showing daily deviations from targets"},{name:"Device Deviation Heatmap",description:"Monitor multiple devices against setpoints"}]}];return jsxRuntimeExports.jsx(Container,{maxWidth:"lg",sx:{mt:4,mb:4},children:jsxRuntimeExports.jsxs(Paper,{sx:{p:3},children:[jsxRuntimeExports.jsxs(Box,{sx:{mb:3},children:[jsxRuntimeExports.jsxs(Typography,{variant:"h4",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(HelpIcon,{color:"primary"}),"Building Vitals Documentation"]}),jsxRuntimeExports.jsx(Typography,{variant:"body1",color:"text.secondary",children:"Complete guide to monitoring and optimizing your building's performance"})]}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,sx:{mb:3},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:jsxRuntimeExports.jsx(Card,{variant:"outlined",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(CloudIcon,{color:"primary"}),jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"Edge Computing"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Powered by Cloudflare Workers"})]})})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:jsxRuntimeExports.jsx(Card,{variant:"outlined",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(ShowChart,{color:"primary"}),jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"11 Chart Types"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"In Chart Wizard"})]})})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:jsxRuntimeExports.jsx(Card,{variant:"outlined",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Speed,{color:"primary"}),jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"Real-time Data"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Live streaming &amp; auto-refresh"})]})})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:jsxRuntimeExports.jsx(Card,{variant:"outlined",children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(SecurityIcon,{color:"primary"}),jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"Secure"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Encrypted token storage"})]})})})]}),jsxRuntimeExports.jsx(Divider,{sx:{my:3}}),jsxRuntimeExports.jsxs(Accordion,{expanded:"getting-started"===expanded,onChange:handleAccordionChange("getting-started"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(CheckCircleIcon,{color:"success"}),"Getting Started"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsxs(Alert,{severity:"info",sx:{mb:2},children:[jsxRuntimeExports.jsx("strong",{children:"First Time Setup:"})," Follow these steps to connect your building data"]}),jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Typography,{children:"1."})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Login or Create Account",secondary:"Use your email/password or SSO (Google/Microsoft) to authenticate"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Typography,{children:"2."})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Configure ACE IoT Token",secondary:"Navigate to Settings and enter your JWT token to connect to the ACE IoT API"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Typography,{children:"3."})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Create Your First Dashboard",secondary:"Click 'New Dashboard' or use a template to get started quickly"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Typography,{children:"4."})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Add Monitors",secondary:"Click the + button to add charts and visualizations to your dashboard"})]})]}),jsxRuntimeExports.jsxs(Box,{sx:{mt:2},children:[jsxRuntimeExports.jsx(Button,{component:Link,to:"/settings",variant:"contained",startIcon:jsxRuntimeExports.jsx(SettingsIcon,{}),sx:{mr:2},children:"Configure Token"}),jsxRuntimeExports.jsx(Button,{component:Link,to:"/dashboard",variant:"outlined",startIcon:jsxRuntimeExports.jsx(Dashboard$2,{}),children:"Go to Dashboard"})]})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"dashboard"===expanded,onChange:handleAccordionChange("dashboard"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(Dashboard$2,{color:"primary"}),"Dashboard Management"]})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(BuildIcon,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Creating Dashboards",secondary:"Click 'New Dashboard' in the selector dropdown. Choose from templates or start with a blank canvas."})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(FolderIcon,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Organizing with Folders",secondary:"Group related monitors into folders for better organization. Drag and drop to rearrange."})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Share,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Sharing Dashboards",secondary:"Generate public links or invite specific users by email. Control permissions and expiration."})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Refresh,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Auto-Refresh Options",secondary:"Set refresh intervals from 5 seconds to 1 hour, or use live streaming for real-time updates."})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Download,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Export Features",secondary:"Export dashboard data as CSV or save charts as PNG images for reports."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"charts"===expanded,onChange:handleAccordionChange("charts"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(ShowChart,{color:"primary"}),"Available Chart Types (11 in Wizard)"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsx(Alert,{severity:"info",sx:{mb:2},children:"The Chart Wizard provides 11 chart types for building monitors. Additional chart types (29 total) are available in the Chart Registry for advanced users."}),chartCategories.map(category=&gt;jsxRuntimeExports.jsxs(Box,{sx:{mb:3},children:[jsxRuntimeExports.jsxs(Typography,{variant:"subtitle1",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[category.icon,jsxRuntimeExports.jsx("strong",{children:category.category})]}),jsxRuntimeExports.jsx(Grid,{container:!0,spacing:1,children:category.charts.map(chart=&gt;jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,children:jsxRuntimeExports.jsx(Box,{sx:{pl:4},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsxs("strong",{children:[chart.name,":"]})," ",chart.description]})})},chart.name))})]},category.category))]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"monitors"===expanded,onChange:handleAccordionChange("monitors"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(BuildIcon,{color:"primary"}),"Monitor Configuration"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,children:"Chart Wizard Steps:"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"1. Data Selection",secondary:"Choose site and points to visualize. Use search and filters to find specific sensors."})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"2. Chart Type",secondary:"Select visualization type based on your data and analysis needs."})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"3. Time Range",secondary:"Set the time period from 15 minutes to 1 year, or use custom ranges."})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"4. Display Options",secondary:"Configure labels (Point Name vs Marker Tag), colors, and refresh settings."})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"5. Advanced Settings",secondary:"Set thresholds, operating ranges, and chart-specific options."})})]}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,children:"Chart Features:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,children:jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Zoom and pan with mouse/touch"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Export data as CSV"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Save chart as PNG image"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ View data in table format"})})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,sm:6,children:jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Toggle series on/off"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Restore to original view"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Full-screen mode"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Copy configuration"})})]})})]})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"shortcuts"===expanded,onChange:handleAccordionChange("shortcuts"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(KeyboardIcon,{color:"primary"}),"Keyboard Shortcuts"]})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,sm:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Navigation"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Ctrl + /",secondary:"Open help"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Ctrl + K",secondary:"Quick search"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Esc",secondary:"Close dialogs"})})]})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,sm:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Dashboard"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Ctrl + N",secondary:"New monitor"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Ctrl + S",secondary:"Save dashboard"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Ctrl + Z",secondary:"Undo"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Ctrl + Y",secondary:"Redo"})})]})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"api"===expanded,onChange:handleAccordionChange("api"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(SettingsIcon,{color:"primary"}),"API Configuration"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsxs(Alert,{severity:"warning",sx:{mb:2},children:[jsxRuntimeExports.jsx("strong",{children:"Important:"})," You need an ACE IoT JWT token to access building data"]}),jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Obtaining a Token",secondary:"Contact your system administrator or the SES Cx Team for a long-lived JWT token"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Token Format",secondary:"Valid JWT format: xxx.yyy.zzz (three parts separated by dots)"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Security",secondary:"Tokens are encrypted and stored securely in Firestore with user-specific encryption"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Token Expiration",secondary:"Monitor token expiration in Settings. You'll be notified when renewal is needed"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"API Diagnostics",secondary:"Use the diagnostics panel to test connectivity and troubleshoot issues"})})]})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"troubleshooting"===expanded,onChange:handleAccordionChange("troubleshooting"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(WarningIcon,{color:"warning"}),"Troubleshooting"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(WarningIcon,{color:"error"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"No data showing in charts",secondary:"Check: 1) Token is valid, 2) Points are selected, 3) Time range has data, 4) Site is correct"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(WarningIcon,{color:"error"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"401 Unauthorized errors",secondary:"Your token may be expired or invalid. Go to Settings to update your ACE IoT token"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(WarningIcon,{color:"error"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Charts not loading",secondary:"Clear browser cache (Ctrl+Shift+Delete), refresh the page, or try incognito mode"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(WarningIcon,{color:"error"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Slow performance",secondary:"Reduce the number of points per chart, use shorter time ranges, or enable data aggregation"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(WarningIcon,{color:"error"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Export not working",secondary:"Check browser popup blocker settings. CSV/PNG exports require popup permissions"})]})]}),jsxRuntimeExports.jsx(Alert,{severity:"info",sx:{mt:2},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Browser Console:"})," Press F12 to open developer tools and check for error messages"]})})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:"technical"===expanded,onChange:handleAccordionChange("technical"),children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(ExpandMoreIcon,{}),children:jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(BuildIcon,{color:"primary"}),"Technical Details"]})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,children:"Architecture"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Frontend",secondary:"React 18 + TypeScript + Material-UI + ECharts"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Edge Computing",secondary:"Cloudflare Workers for API proxy and caching"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Authentication",secondary:"Firebase Auth with SSO support"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Database",secondary:"Firestore for user data and configurations"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"Hosting",secondary:"Firebase Hosting with global CDN"})})]}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,children:"Performance Features"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Request batching reduces API calls by 95%"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Edge caching with 5-minute TTL for time series data"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Handles 1M+ data points without downsampling"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Progressive Web App (PWA) with offline support"})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:"‚Ä¢ Code splitting and lazy loading for fast initial load"})})]})]})]}),jsxRuntimeExports.jsx(Divider,{sx:{my:3}}),jsxRuntimeExports.jsxs(Box,{sx:{mt:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Building Vitals v1.0.0 | ¬© Specialized Engineering Solutions Cx"}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Button,{component:Link,to:"/dashboard",variant:"outlined",startIcon:jsxRuntimeExports.jsx(Dashboard$2,{}),children:"Back to Dashboard"})})]})]})})}},Symbol.toStringTag,{value:"Module"})),SharedDashboard$1=Object.freeze(Object.defineProperty({__proto__:null,default:()=&gt;{const theme=useTheme(),{shareId:shareId}=useParams(),[loading,setLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[sharedData,setSharedData]=reactExports.useState(null);return reactExports.useEffect(()=&gt;{(async()=&gt;{if(!shareId)return setError("Invalid share link"),void setLoading(!1);try{const getSharedDashboard=firebaseFunctions.httpsCallable("getSharedDashboard"),data=(await getSharedDashboard({dashboardId:shareId})).data;data.success&amp;&amp;data.dashboard?setSharedData(data.dashboard):setError("Dashboard not found or access denied"),setLoading(!1)}catch(err){"permission-denied"===err.code?err.message.includes("expired")?setError("This share link has expired."):setError("You do not have permission to view this dashboard."):"not-found"===err.code?setError("Dashboard not found. The link may be invalid."):"unauthenticated"===err.code?setError("Please log in to view this dashboard."):setError("Failed to load dashboard. Please try again later."),setLoading(!1)}})()},[shareId]),loading?jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",bgcolor:theme.palette.background.default},children:[jsxRuntimeExports.jsx(CircularProgress,{}),jsxRuntimeExports.jsx(Typography,{sx:{mt:2},variant:"body1",children:"Loading shared dashboard..."})]}):error||!sharedData?jsxRuntimeExports.jsx(Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",bgcolor:theme.palette.background.default,p:3},children:jsxRuntimeExports.jsxs(Paper,{sx:{p:4,maxWidth:500,textAlign:"center"},children:[jsxRuntimeExports.jsx(Alert,{severity:"error",sx:{mb:3},children:error||"Dashboard not found"}),jsxRuntimeExports.jsx(Typography,{color:"text.secondary",variant:"body1",children:"The shared dashboard link appears to be invalid or may have expired. Please contact the dashboard owner for a new link."})]})}):jsxRuntimeExports.jsxs(Box,{sx:{minHeight:"100vh",bgcolor:theme.palette.background.default},children:[jsxRuntimeExports.jsx(Paper,{sx:{p:2,borderRadius:0,borderBottom:`1px solid ${theme.palette.divider}`,background:alpha(theme.palette.primary.main,.02)},children:jsxRuntimeExports.jsx(Box,{sx:{maxWidth:1200,mx:"auto"},children:jsxRuntimeExports.jsxs(Stack,{alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},justifyContent:"space-between",spacing:2,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{gutterBottom:!0,sx:{fontWeight:600},variant:"h5",children:sharedData.name}),sharedData.description&amp;&amp;jsxRuntimeExports.jsx(Typography,{color:"text.secondary",variant:"body2",children:sharedData.description}),jsxRuntimeExports.jsxs(Stack,{direction:"row",spacing:2,sx:{mt:1},children:[jsxRuntimeExports.jsx(Chip,{icon:jsxRuntimeExports.jsx(PersonIcon,{}),label:`Shared by ${sharedData.sharedBy||"Unknown"}`,size:"small",variant:"outlined"}),sharedData.createdAt&amp;&amp;jsxRuntimeExports.jsx(Chip,{icon:jsxRuntimeExports.jsx(DateRange,{}),label:`Created ${format(new Date(sharedData.createdAt.seconds?1e3*sharedData.createdAt.seconds:sharedData.createdAt),"MMM d, yyyy")}`,size:"small",variant:"outlined"})]})]}),jsxRuntimeExports.jsxs(Stack,{direction:"row",spacing:1,children:[sharedData.permissions.includes("view")&amp;&amp;jsxRuntimeExports.jsx(Chip,{color:"info",label:"View-only",size:"small"}),sharedData.permissions.includes("edit")&amp;&amp;jsxRuntimeExports.jsx(Chip,{color:"success",label:"Can edit",size:"small"})]})]})})}),jsxRuntimeExports.jsx(Box,{sx:{maxWidth:1200,mx:"auto",p:2},children:jsxRuntimeExports.jsxs(Alert,{severity:"info",sx:{mb:2},children:["You are viewing a shared dashboard",sharedData.permissions.includes("view")?" in read-only mode":"","."]})}),jsxRuntimeExports.jsx(Box,{sx:{p:2,maxWidth:1200,mx:"auto"},children:sharedData.widgets&amp;&amp;sharedData.widgets.length&gt;0?jsxRuntimeExports.jsx(Grid,{container:!0,spacing:2,children:sharedData.widgets.map(widget=&gt;jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,lg:4,children:jsxRuntimeExports.jsx(Paper,{sx:{...glassEffect.light,height:400,p:2},children:jsxRuntimeExports.jsx(UnifiedChartRenderer,{monitor:widget,timeRange:widget.timeRange||"24h",enableTools:["export","fullscreen"],height:"100%"})})},widget.id))}):jsxRuntimeExports.jsxs(Paper,{sx:{p:4,textAlign:"center",...glassEffect.light},children:[jsxRuntimeExports.jsx(Typography,{color:"text.secondary",variant:"h6",children:"No widgets configured for this dashboard"}),jsxRuntimeExports.jsx(Typography,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"The dashboard owner needs to add widgets to this dashboard."})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{Admin$1 as A,Dashboard$1 as D,HelpPage$1 as H,Login$1 as L,MissingTokenPage$1 as M,Settings$1 as S,SharedDashboard$1 as a};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-16T12:41:31.984Z
            </div>
        <script src="../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../sorter.js"></script>
        <script src="../../../../block-navigation.js"></script>
    </body>
</html>
    